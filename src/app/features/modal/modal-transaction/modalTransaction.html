<div *ngIf="isOpen" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
  <div class="bg-white rounded-xl shadow-lg p-6 w-[700px]">
    <h2 class="text-lg font-semibold mb-4">Nova Transação</h2>
    
    <form [formGroup]="transactionForm" (ngSubmit)="submit()" class="grid grid-cols-1 md:grid-cols-2 gap-4">

      <div>
        <label class="block text-sm font-medium text-gray-700">Tipo de Categoria</label>
        <div class="mt-2 flex gap-2">
          <button
            *ngFor="let type of transactionTypes"
            type="button"
            (click)="transactionForm.get('type')?.setValue(type.value)"
            [class.bg-indigo-600]="transactionForm.get('type')?.value === type.value"
            [class.text-white]="transactionForm.get('type')?.value === type.value"
            class="flex-1 px-3 py-2 rounded-lg border-2 border-indigo-600 font-medium text-sm transition hover:bg-indigo-50">
            {{ type.label }}
          </button>
        </div>
      </div>
      
      <div>
        <label for="title" class="block text-sm font-medium text-black">Título</label>
        <input id="title" name="title" type="text" formControlName="title" placeholder="Digite o título" required
          class="mt-2 block w-full rounded-md border-2 px-3 py-1.5 text-base text-black placeholder:text-gray-500 focus:outline-indigo-500 sm:text-sm" />
      </div>

      <div>
        <label for="amount" class="block text-sm font-medium text-black">Valor</label>
        <input id="amount" name="amount" type="text" formControlName="amount" placeholder="Digite o valor" required mask="separator.2" thousandSeparator="." decimalMarker=","
          class="mt-2 block w-full rounded-md border-2 px-3 py-1.5 text-base text-black placeholder:text-gray-500 focus:outline-indigo-500 sm:text-sm" />
      </div>

      <div>
        <label for="date" class="block text-sm font-medium text-black">Data</label>
        <input id="date" name="date" type="date" formControlName="date" required
          class="mt-2 block w-full rounded-md border-2 px-3 py-1.5 text-base text-black placeholder:text-gray-500 focus:outline-indigo-500 sm:text-sm" />
      </div>

      <div>
        <label for="category" class="block text-sm font-medium text-black">Categoria</label>
        <select name="categoryId" formControlName="categoryId"
          class="mt-2 w-full p-3 border border-gray-300 rounded shadow-sm focus:outline-none focus:ring focus:ring-indigo-400">
          <option *ngFor="let category of categoriesList" [ngValue]="category.id">{{ category.name }}</option>
        </select>
      </div>

      <div>
        <label for="account" class="block text-sm font-medium text-black">Conta</label>
        <select name="accountId" formControlName="accountId"
          class="mt-2 w-full p-3 border border-gray-300 rounded shadow-sm focus:outline-none focus:ring focus:ring-indigo-400">
          <option *ngFor="let account of accountsList" [ngValue]="account.id">{{ account.name }}</option>
        </select>
      </div>

      <div class="md:col-span-2">
        <label for="description" class="block text-sm font-medium text-black">Descrição</label>
        <input id="description" name="description" type="text" formControlName="description" placeholder="Digite a descrição"
          class="mt-2 block w-full rounded-md border-2 px-3 py-1.5 text-base text-black placeholder:text-gray-500 focus:outline-indigo-500 sm:text-sm" />
      </div>

      <div class="flex justify-end gap-2 mt-4 md:col-span-2">
        <button type="button" (click)="close()" class="px-4 py-2 rounded bg-gray-300 hover:bg-gray-400">Cancelar</button>
        <button type="submit" class="px-4 py-2 rounded bg-indigo-500 text-white hover:bg-indigo-600">Salvar</button>
      </div>
    </form>
  </div>
</div>
